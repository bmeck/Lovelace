<html><head><title>MimeConverter</title><link rel="stylesheet" type="text/css" href="../../../../styles/main.css"><script language=JavaScript src="../../../../javascript/main.js"></script></head><body class="FramedContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.4 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CClass"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="MimeConverter"></a>MimeConverter</h1><div class=CBody><p>Provides an interface to be used when converting data that has extensibility and reusability.&nbsp; Must implement the conversions for js/array and text/plain for full functionality.&nbsp; It is wiser to use a <a href="DefaultConverter-js.html#DefaultConverter" class=LVariable id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">DefaultConverter</a> than this class directly, however, you cannot override conversions that already exist so it is not uncommon to directly use this class.</p><p>The mime-types used by converters do not follow the official standard but do resemble them closely.&nbsp; Most of the functions here accept the use of wildcards using &ldquo;*&rdquo; in place of a token split around the &ldquo;/&rdquo;s of a mime-type.</p><h4 class=CHeading>See</h4><p><a href="DefaultConverter-js.html#DefaultConverter" class=LVariable id=link9 onMouseOver="ShowTip(event, 'tt8', 'link9')" onMouseOut="HideTip('tt8')">DefaultConverter</a></p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#MimeConverter" >MimeConverter</a></td><td class=SDescription>Provides an interface to be used when converting data that has extensibility and reusability. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#MimeConverter.Enumerations" >Enumerations</a></td><td class=SDescription></td></tr><tr class="SEnumeration SIndent2 SMarked"><td class=SEntry><a href="#MimeConverter.Mime-Type" >Mime-Type</a></td><td class=SDescription>This is the list of mime-types generally accepted by the MimeConverter standard and their corresponding data types in JavaScript.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#MimeConverter.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#MimeConverter.RegisterMime" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">RegisterMime</a></td><td class=SDescription>Attempts to register the mime-type as being associated with a <u>file extension</u></td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#MimeConverter.GuessMime" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">GuessMime</a></td><td class=SDescription>Attempts to determine the mime-type of an object.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#MimeConverter.RegisterConversion" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">RegisterConversion</a></td><td class=SDescription>Attempts to add a conversion to the <a href="#MimeConverter" class=LClass id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">MimeConverter</a> that can be used to convert from one mime-type to another. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#MimeConverter.ConvertToMime" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">ConvertToMime</a></td><td class=SDescription>Attempts to convert and object to a given mime-type. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#MimeConverter.GetCharacter" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">GetCharacter</a></td><td class=SDescription>Attempts to resolve an object into a human readable character (or whitespace) by keyCode.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#MimeConverter.GetShifted" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">GetShifted</a></td><td class=SDescription>Attempts to return the alternative of a character is the shift key was toggled from its original form.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="MimeConverter.Enumerations"></a>Enumerations</h3></div></div>

<div class="CEnumeration"><div class=CTopic><h3 class=CTitle><a name="MimeConverter.Mime-Type"></a>Mime-Type</h3><div class=CBody><p>This is the list of mime-types generally accepted by the MimeConverter standard and their corresponding data types in JavaScript.</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.text/plain"></a>text/plain</td><td class=CDLDescription>String</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.text/html"></a>text/html</td><td class=CDLDescription>String</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.text/css"></a>text/css</td><td class=CDLDescription>String</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.text/javascript"></a>text/javascript</td><td class=CDLDescription>String</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.text/json"></a>text/json</td><td class=CDLDescription>String</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.text/xml"></a>text/xml</td><td class=CDLDescription>String</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.dom/elem"></a>dom/elem</td><td class=CDLDescription>ElementNode</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.dom/attr"></a>dom/attr</td><td class=CDLDescription>AttributeNode</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.dom/comment"></a>dom/comment</td><td class=CDLDescription>CommentNode</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.dom/cdata"></a>dom/cdata</td><td class=CDLDescription>CDataNode</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.dom/document"></a>dom/document</td><td class=CDLDescription>Document</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.dom/document-fragment"></a>dom/document-fragment</td><td class=CDLDescription>DocumentFragment</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.dom/node"></a>dom/node</td><td class=CDLDescription>Node</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.js/number"></a>js/number</td><td class=CDLDescription>Number</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.js/array"></a>js/array</td><td class=CDLDescription>Array</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.js/function"></a>js/function</td><td class=CDLDescription>Function</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.js/obj"></a>js/obj</td><td class=CDLDescription>Object</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.css/value"></a>css/value</td><td class=CDLDescription>CSSValue</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.input/key"></a>input/key</td><td class=CDLDescription>KeyEvent</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.input/mouse"></a>input/mouse</td><td class=CDLDescription>MouseEvent</td></tr><tr><td class=CDLEntry><a name="MimeConverter.Mime-Type.input/clipboard"></a>input/clipboard</td><td class=CDLDescription>Event that has <b>ClipboardData</b></td></tr></table><h4 class=CHeading>Note</h4><p>All mime-types are converted to lowercase upon addition.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="MimeConverter.Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="MimeConverter.RegisterMime"></a>RegisterMime</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>this.RegisterMime = function(</td><td class=PParameter nowrap>mime,</td></tr><tr><td></td><td class=PParameter nowrap>fileExtensions</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Attempts to register the mime-type as being associated with a <u>file extension</u></p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>mime</td><td class=CDLDescription>String of the mime-type</td></tr><tr><td class=CDLEntry>fileExtensions</td><td class=CDLDescription>List of file extensions without the &lsquo;.&rsquo; to register to this mime type</td></tr></table><h4 class=CHeading>Warning</h4><p>This requires a couple converters</p><ul><li>fileExtensions to <b>js/array</b></li><li>mime,fileExtensions[i] to <b>text/plain</b></li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="MimeConverter.GuessMime"></a>GuessMime</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>this.GuessMime = function(</td><td class=PParameter nowrap>data,</td></tr><tr><td></td><td class=PParameter nowrap>url</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Attempts to determine the mime-type of an object.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>data</td><td class=CDLDescription>Object to discern the mime-type from.</td></tr><tr><td class=CDLEntry>url</td><td class=CDLDescription>Source of the object.&nbsp; <b>Optional.</b></td></tr></table><h4 class=CHeading>Note</h4><p>Default action is to just declare it <b>js/obj</b> because it will always be true.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="MimeConverter.RegisterConversion"></a>RegisterConversion</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>this.RegisterConversion = function(</td><td class=PParameter nowrap>mime,</td></tr><tr><td></td><td class=PParameter nowrap>toMime,</td></tr><tr><td></td><td class=PParameter nowrap>func</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Attempts to add a conversion to the <a href="#MimeConverter" class=LClass id=link10 onMouseOver="ShowTip(event, 'tt4', 'link10')" onMouseOut="HideTip('tt4')">MimeConverter</a> that can be used to convert from one mime-type to another.&nbsp; This will not overwrite mime conversions that exist.&nbsp; Therefore to prevent more converters from being added just add a dummy converter that goes from &ldquo;*&rdquo; to &ldquo;*&rdquo;</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>mime</td><td class=CDLDescription>The original mime-type of the object</td></tr><tr><td class=CDLEntry>toMime</td><td class=CDLDescription>The mime-type of the object after the conversion</td></tr><tr><td class=CDLEntry>func</td><td class=CDLDescription>obj function(data,url): a callback function that takes a JavaScript object of mime and turns it into another JavaScript object of toMime</td></tr></table><h4 class=CHeading>Returns</h4><ul><li>The conversion function if successful.</li><li><b>undefined</b> if unsuccessful</li></ul><h4 class=CHeading>Warning</h4><ul><li>Will log if unsucessful and why.</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="MimeConverter.ConvertToMime"></a>ConvertToMime</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>this.ConvertToMime = function(</td><td class=PParameter nowrap>toMime,</td></tr><tr><td></td><td class=PParameter nowrap>obj,</td></tr><tr><td></td><td class=PParameter nowrap>fromUrl,</td></tr><tr><td></td><td class=PParameter nowrap>inPlace</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Attempts to convert and object to a given mime-type.&nbsp; The order of conversion priorities is as follows</p><ul><li>Check for direct conversion</li><li>Check for conversion of obj&rsquo;s mime-type to &ldquo;*&rdquo;</li><li>Check for conversion of all of the parts of obj&rsquo;s mime (split by &ldquo;/&rdquo;)</li><li>Check for a universal conversion &ldquo;*&rdquo; to the desired mime-type</li><li>Check for a ChainMap conversion</li></ul><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>-</td><td class=CDLDescription>A Chainmap will be created if possible by chaining together other converters</td></tr><tr><td class=CDLEntry>-</td><td class=CDLDescription>A Chainmap conversion will be cached <b>FOREVER</b></td></tr></table><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>toMime</td><td class=CDLDescription>The mime-type of the object after the conversion.</td></tr><tr><td class=CDLEntry>obj</td><td class=CDLDescription>The object to convert to toMime.</td></tr><tr><td class=CDLEntry>fromUrl</td><td class=CDLDescription>The url of an object if it is representing a full File or Url.</td></tr><tr><td class=CDLEntry>inPlace</td><td class=CDLDescription>If the object should not be a copy and instead it should have its attributes changed in place.</td></tr></table><h4 class=CHeading>Returns</h4><ul><li>The converted object if successful.</li></ul><h4 class=CHeading>Warning</h4><ul><li>Will log if unsucessful and why.</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="MimeConverter.GetCharacter"></a>GetCharacter</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>GetCharacter = function(</td><td class=PParameter nowrap>data</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Attempts to resolve an object into a human readable character (or whitespace) by keyCode.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>data</td><td class=CDLDescription>Object to attempt to resolve</td></tr></table><ul><li>Must implement ConvertToMime(&ldquo;input/key&rdquo;)</li></ul><h4 class=CHeading>Returns</h4><ul><li>Data object representing the character if found.</li><li><b>undefined</b> if no mapping was found.</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="MimeConverter.GetShifted"></a>GetShifted</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>GetShifted = function(</td><td class=PParameter nowrap>unicodeChar</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Attempts to return the alternative of a character is the shift key was toggled from its original form.</p><h4 class=CHeading>Parameter</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>unicodeChar</td><td class=CDLDescription>character to shift in the form of a String</td></tr></table><h4 class=CHeading>Returns</h4><ul><li>String of the shifted character if found.</li><li>The original character if no mapping was found.</li></ul></div></div></div>

</div><!--Content-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>this.RegisterMime = function(</td><td class=PParameter nowrap>mime,</td></tr><tr><td></td><td class=PParameter nowrap>fileExtensions</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Attempts to register the mime-type as being associated with a <u>file extension</u></div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>this.GuessMime = function(</td><td class=PParameter nowrap>data,</td></tr><tr><td></td><td class=PParameter nowrap>url</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Attempts to determine the mime-type of an object.</div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>this.RegisterConversion = function(</td><td class=PParameter nowrap>mime,</td></tr><tr><td></td><td class=PParameter nowrap>toMime,</td></tr><tr><td></td><td class=PParameter nowrap>func</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Attempts to add a conversion to the MimeConverter that can be used to convert from one mime-type to another. </div></div><div class=CToolTip id="tt4"><div class=CClass>Provides an interface to be used when converting data that has extensibility and reusability. </div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>this.ConvertToMime = function(</td><td class=PParameter nowrap>toMime,</td></tr><tr><td></td><td class=PParameter nowrap>obj,</td></tr><tr><td></td><td class=PParameter nowrap>fromUrl,</td></tr><tr><td></td><td class=PParameter nowrap>inPlace</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Attempts to convert and object to a given mime-type. </div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>GetCharacter = function(</td><td class=PParameter nowrap>data</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Attempts to resolve an object into a human readable character (or whitespace) by keyCode.</div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>GetShifted = function(</td><td class=PParameter nowrap>unicodeChar</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Attempts to return the alternative of a character is the shift key was toggled from its original form.</div></div><div class=CToolTip id="tt8"><div class=CVariable>Provides an intelligent MimeConverter for most applications.</div></div><!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>